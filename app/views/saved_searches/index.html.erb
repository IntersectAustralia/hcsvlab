<h1><%= t('blacklight.saved_searches.title') %></h1>

<%- if current_or_guest_user.blank? -%>

  <h3><%= t('blacklight.saved_searches.need_login') %></h3>

<%- elsif @searches.blank? -%>

  <h3><%= t('blacklight.saved_searches.no_searches') %></h3>

<%- else -%>
  <p>
    <%= link_to t('blacklight.saved_searches.clear.action_title'), clear_saved_searches_path, :method => :delete, :data => {:confirm => t('blacklight.saved_searches.clear.action_confirm')}, :class => "btn" %>
  </p>

  <h3><%= t('blacklight.saved_searches.list_title') %></h3>
  <table class="table table-striped">
    <%- @searches.each do |search| -%>
      <tr>
        <td><%= link_to_previous_search(search.query_params) %></td>
        <td><%= button_to t('blacklight.saved_searches.delete'), forget_search_path(search.id), :class => "btn" %></td>
      </tr>
    <%- end -%>
  </table>

<%- end -%>
<%= render 'shared/nectar_attribution'%>

